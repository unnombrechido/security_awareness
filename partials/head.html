                    <!-- Load Bootstrap first so theme can inherit its font stack -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Favicon to prevent 404 -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><rect fill='%23007bff' width='64' height='64'/></svg>">
    <!-- Using local Reveal assets to avoid tracking-prevention blocking CDN requests -->
    <link rel="stylesheet" href="assets/vendor/reveal/reveal.min.css">
    <link rel="stylesheet" href="assets/vendor/reveal/theme/black.min.css">
    <style>
        /* Force Reveal.js outer containers to use full viewport and remove overflow restrictions */
        .reveal-viewport, .reveal-full-page, html.reveal-full-page, body.reveal-full-page {
            width: 100vw !important;
            max-width: 100vw !important;
            min-width: 0 !important;
            height: 100vh !important;
            max-height: 100vh !important;
            min-height: 0 !important;
            overflow: visible !important;
            margin: 0 !important;
            padding: 0 !important;
        }
        html, body { margin: 0; padding: 0; overflow-x: hidden; box-sizing: border-box; height: 100%; }
        .topic-link.visited {
            background: rgba(80,100,150,0.9) !important;
            border-left: 4px solid #4CAF50 !important;
        }
        .topic-link.active {
            background: rgba(100,120,180,0.95) !important;
            transform: scale(1.05) !important;
            box-shadow: 0 0 20px rgba(100,120,180,0.6) !important;
        }
        .section-flex {
            display: flex;
            flex-direction: row;
            width: 100%;
            height: 100%;
            min-width: 0;
            min-height: 0;
            gap: 0;
        }
        .topic-grid {
            flex: 0 0 32%;
            min-width: 220px;
            max-width: 40%;
            height: 100%;
            min-height: 0;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: stretch;
            justify-content: flex-start;
            padding: 2rem 1rem 2rem 2rem;
            box-sizing: border-box;
        }
        .topic-link {
            width: 100%;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .topic-content {
            flex: 1 1 68%;
            min-width: 0;
            max-width: 100%;
            height: 100%;
            min-height: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            box-sizing: border-box;
            padding: 2rem;
            background: rgba(255,255,255,0.85);
            border-radius: 1rem;
            box-shadow: 0 0 24px #0002;
            overflow: visible;
        }
        /* Prevent .reveal from pushing menu-bar-top down */
        .reveal {
            margin-top: 0 !important;
            padding-top: 0 !important;
        }
            .reveal {
                font-family: var(--r-main-font, Arial, sans-serif);
                font-size: 24px;
                height: calc(100vh - 44px);
                width: 100vw;
                box-sizing: border-box;
                overflow: visible !important;
                min-width: 0;
                min-height: 0;
            }
        .reveal section { background-size: cover; background-position: center; }
        .reveal .slides {
            min-width: 0;
            height: 100%;
            max-height: 100%;
                overflow: visible !important;
        }
        .reveal .slides section {
            background: rgba(0,0,0,0.8);
            border-radius: 12px;
            color: #fff;
            text-shadow: 2px 2px 5px #000;
            box-sizing: border-box;
            display: flex;
            flex-direction: row;
            align-items: stretch;
            gap: 2vw;
            width: 100%;
            height: 100%;
            padding: 0;
                overflow: visible !important;
                min-width: 0;
                min-height: 0;
        }
        .topic-content {
            flex: 1 1 0;
            box-sizing: border-box;
            min-width: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .side-panel {
            flex: 0 0 28vw;
            background: rgba(255,255,255,0.07);
            border-radius: 10px;
            margin: 0 2vw;
            padding: 24px 16px;
            box-sizing: border-box;
            min-width: 200px;
            max-width: 400px;
            color: #fff;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
        }
        .section-flex {
            display: flex;
            flex-direction: row;
            width: 100%;
            height: 100%;
            gap: 2vw;
            align-items: stretch;
            justify-content: stretch;
                min-width: 0;
                min-height: 0;
        }
        .topic-grid {
            flex: 0 0 32%;
            min-width: 220px;
            max-width: 40%;
            height: 100%;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            align-items: stretch;
            justify-content: flex-start;
                min-height: 0;
                min-width: 0;
        }
        .topic-content {
            flex: 1 1 68%;
            min-width: 0;
            max-width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
                overflow: visible;
        }
        @media (max-width: 900px) {
            .section-flex {
                display: flex !important;
                flex-direction: column !important;
                height: auto !important;
            }
            .topic-grid, .side-panel, .topic-content {
                max-width: 100vw;
                width: 100%;
                margin: 0 0 16px 0;
                min-width: 0;
                height: auto;
                padding: 1rem !important;
            }
        }
        @media (max-width: 900px) {
            .reveal .slides section {
                flex-direction: column;
                gap: 0;
                padding: 20px 0;
            }
            .side-panel {
                max-width: 100vw;
                width: 100%;
                margin: 0 0 16px 0;
            }
        }
        .offcanvas .nav-link.disabled, .offcanvas .nav-link[aria-disabled="true"] { pointer-events: none; opacity: 0.5; filter: grayscale(1); }
        .reveal h1, h2, h3 { color: #fff !important; margin-bottom: 20px; }
        .reveal .progress { background: #007bff; height: 5px; }
        .sidebar { position: fixed; top: 0; left: 0; width: 240px; height: 100%; background: rgba(255,255,255,0.95); color: #000; transition: transform 0.3s; transform: translateX(-100%); z-index: 999; overflow-y: auto; padding: 20px; }
        .sidebar.open { transform: translateX(0); }
        .back-btn { background: #0056b3; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 0.8em; display: none; }
        /* small adjustments to blend Bootstrap with reveal */
        .offcanvas-body a { text-decoration: none; }
        .topic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 30px 0; }
        .topic-link { background: rgba(255,255,255,0.15); border-radius: 8px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s; color: #fff; text-decoration: none; font-weight: bold; }
        .topic-link:hover { background: rgba(255,255,255,0.3); transform: scale(1.05); }
        
        /* Mobile Responsive Styles */
        @media (max-width: 768px) { 
            /* Base adjustments */
            .reveal { font-size: 16px; } 
            .reveal section { padding: 20px; } 
            .sidebar { width: 80%; } 
            .back-btn { bottom: 50px; font-size: 0.7em; }
            
            /* Menu bar adjustments */
            #menu-bar-top {
                padding: 0.4rem 1rem !important;
                height: 50px !important;
            }
            
            /* Slides container adjustment for mobile menu height */
            #custom-slides-container {
                top: 50px !important;
                height: calc(100vh - 50px) !important;
            }
            
            /* Stack 3-column layout vertically on mobile */
            .custom-slide > div[style*="grid-template-columns"] {
                display: flex !important;
                flex-direction: column !important;
                padding: 1rem 0 !important;
                overflow-y: auto !important;
                gap: 1rem !important;
            }
            
            /* Topic buttons containers */
            .custom-slide > div > div[style*="flex-direction: column"] {
                width: 100% !important;
                padding: 0 1rem !important;
                gap: 0.8rem !important;
            }
            
            /* Topic buttons */
            .topic-link {
                padding: 1rem !important;
                font-size: 0.95rem !important;
            }
            
            /* Content area */
            [id*="section"][id*="-content"] {
                width: 100% !important;
                min-height: 200px !important;
                padding: 1rem !important;
            }
            
            /* Content text overlay */
            [id*="section"][id*="-content"] > div {
                padding: 1rem !important;
            }
            
            /* Section titles */
            .custom-slide > div[style*="position: absolute"] {
                position: relative !important;
                top: 0 !important;
                left: 0 !important;
                transform: none !important;
                width: 100% !important;
                margin-bottom: 1rem !important;
            }
            
            .custom-slide > div[style*="position: absolute"] h2 {
                font-size: 1.3rem !important;
            }
            
            /* Navigation buttons */
            #prevBtn, #nextBtn {
                padding: 0.7rem 1rem !important;
                font-size: 1.5rem !important;
                bottom: 20px !important;
                top: auto !important;
                transform: none !important;
            }
            
            #prevBtn {
                left: 10px !important;
            }
            
            #nextBtn {
                right: 10px !important;
            }
            
            /* Intro slide adjustments */
            .custom-slide[data-slide="0"] > div {
                padding: 2rem 1.5rem !important;
            }
            
            .custom-slide[data-slide="0"] h1 {
                font-size: 2rem !important;
            }
            
            .custom-slide[data-slide="0"] p {
                font-size: 1.2rem !important;
            }
            
            /* Conclusion slide */
            .custom-slide[data-slide="6"] > div {
                padding: 2rem 1.5rem !important;
            }
            
            .custom-slide[data-slide="6"] h2 {
                font-size: 2rem !important;
            }
            
            .custom-slide[data-slide="6"] p {
                font-size: 1.2rem !important;
            }
        }
        
        /* Extra small devices (phones in portrait, less than 576px) */
        @media (max-width: 575px) {
            #menu-bar-top {
                padding: 0.3rem 0.5rem !important;
                height: 45px !important;
            }
            
            #custom-slides-container {
                top: 45px !important;
                height: calc(100vh - 45px) !important;
            }
            
            .topic-link {
                padding: 0.8rem !important;
                font-size: 0.9rem !important;
            }
            
            .custom-slide > div[style*="position: absolute"] h2 {
                font-size: 1.1rem !important;
            }
            
            #prevBtn, #nextBtn {
                padding: 0.5rem 0.8rem !important;
                font-size: 1.3rem !important;
            }
        }
    </style>
