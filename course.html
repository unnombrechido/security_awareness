<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Curso de Seguridad de la Información</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: Arial, sans-serif; }
        .sidebar { height: 100vh; overflow-y: auto; box-shadow: inset -1px 0 0 rgba(0,0,0,.1); transition: width 0.3s; }
        .sidebar.collapsed { width: 0 !important; padding: 0 !important; overflow: hidden; }
        .sidebar .nav-link { color: #333; font-size: 0.9em; }
        .sidebar .nav-link.active { color: #0d6efd; font-weight: bold; }
        .sidebar .nav-link.read { color: green; }
        .main-content { transition: margin-left 0.3s; }
        .main-content.collapsed { margin-left: 0 !important; }
        section { min-height: 100vh; padding: 50px; color: #fff; text-shadow: 1px 1px 2px rgba(0,0,0,0.8); background-size: cover; background-position: center; }
        .btn-smaller { font-size: 0.8em; padding: 5px 10px; }
        @media (max-width: 768px) { .sidebar { width: 0; padding: 0; } .main-content { margin-left: 0; } }
    </style>
</head>
<body>
    <nav id="sidebar" class="sidebar bg-light col-md-3 col-lg-2 d-md-block">
        <div class="position-sticky pt-3 px-3">
            <h5>Navegación</h5>
            <ul class="nav flex-column">
                <li class="nav-item"><a class="nav-link" href="#section1">Sección 1: Principios Básicos</a></li>
                <li class="nav-item"><a class="nav-link" href="#section2">Sección 2: Gestión de Contraseñas</a></li>
                <li class="nav-item"><a class="nav-link" href="#section3">Sección 3: Políticas en el Lugar de Trabajo</a></li>
                <li class="nav-item"><a class="nav-link" href="#section4">Sección 4: Protección contra Fugas</a></li>
                <li class="nav-item"><a class="nav-link" href="#section5">Sección 5: Información Sensible</a></li>
                <li class="nav-item"><a class="nav-link" href="#conclusion">Conclusión</a></li>
            </ul>
            <button class="btn btn-primary btn-smaller mt-3" onclick="resetProgress()">Reiniciar Progreso</button>
            <a href="index.html" class="btn btn-secondary btn-smaller mt-3">Volver al Inicio</a>
            <button class="btn btn-outline-secondary btn-smaller mt-3 d-md-none" onclick="toggleSidebar()">Colapsar Menú</button>
        </div>
    </nav>

    <div class="main-content col-md-9 ms-md-auto">
        <button class="btn btn-outline-primary btn-smaller d-md-none mb-3" onclick="toggleSidebar()">Abrir Menú</button>
        
        <section id="section1" style="background-image: url('https://cdn.prod.website-files.com/643507075046cf6dcb169402/67298d38aeb5b94db6e477f6_diploma-cyber-security-671ed6ef14adb.webp');">
            <h2>Sección 1: Principios Básicos de Seguridad de la Información</h2>
            <p>Exploraremos cada pilar y práctica en detalle.</p>
            <!-- Añade subsecciones detalladas aquí como en versiones anteriores -->
        </section>
        <section id="section2" style="background-image: url('https://sharevault.com/wp-content/uploads/2023/05/top-10-digital-document-handling-mistakes-and-how-to-avoid-them-for-secure-file-sharing-img-3.jpg');">
            <h2>Sección 2: Gestión Segura de Contraseñas</h2>
            <p>Detallaremos cada práctica para fortalecer tus defensas.</p>
            <!-- Subsecciones -->
        </section>
        <!-- Continúa con las otras secciones: #section3, #section4, #section5, #conclusion con sus fondos únicos y contenido detallado -->

        <section id="conclusion" style="background-image: url('https://s3.mordorintelligence.com/global-defense-cyber-security-markets-industry/global-defense-cyber-security-markets-industry-Defense-Cyber-Security-Market-Market-Share-by-Component-2023-1768469588478.webp');">
            <h2>Conclusión</h2>
            <p>La seguridad es un compromiso continuo. Procede a la evaluación.</p>
            <a href="quiz.html" class="btn btn-primary btn-smaller">Ir a la Evaluación</a>
        </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.querySelector('.main-content');
        function toggleSidebar() {
            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('collapsed');
        }

        // Tracking de secciones leídas (mismo que antes)
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.nav-link');

        function markAsRead(sectionId) {
            localStorage.setItem(sectionId, 'read');
            navLinks.forEach(link => {
                if (link.href.includes(sectionId)) link.classList.add('read');
            });
        }

        function loadProgress() {
            navLinks.forEach(link => {
                const sectionId = link.href.split('#')[1];
                if (localStorage.getItem(sectionId) === 'read') link.classList.add('read');
            });
        }

        function resetProgress() {
            localStorage.clear();
            navLinks.forEach(link => link.classList.remove('read'));
        }

        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting && entry.intersectionRatio > 0.8) {
                    markAsRead(entry.target.id);
                }
            });
        }, { threshold: 0.8 });

        sections.forEach(section => observer.observe(section));
        loadProgress();
    </script>
</body>
</html>
